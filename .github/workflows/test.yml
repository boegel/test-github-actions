name: test
on:
  issue_comment:
    types: [created]
  pull_request:
    types: [labeled]
jobs:
  react-to-comment:
    runs-on: ubuntu-latest
    steps:
    - name: install dependencies
      run: |
        pip install PyGithub
        pip install git+https://github.com/boegel/py-github-actions.git
    - name: react to comment
      shell: python
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        from actions.event import get_event_data
        from actions.issues import post_comment
        
        # collect event data
        event_data = get_event_data(verbose=True)
        
        sender = event_data['sender']['login']
        comment_txt = event_data['comment']['body']
        reply_txt = "@%s: Thank you for your comment '%s'!" % (sender, comment_txt)
        post_comment(reply_txt)
